[pytest]
# Configuração do pytest para Mileage Bot

# Adiciona o diretório raiz ao PYTHONPATH
# Isso permite que os testes importem 'app' diretamente
pythonpath = .

# Padrão de descoberta de testes
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Diretórios onde procurar testes
testpaths = tests

# Opções de output
addopts = 
    # Mostra prints durante os testes
    -s
    # Modo verbose (mostra cada teste)
    -v
    # Mostra resumo de testes lentos
    --durations=5
    # Desabilita warnings de deprecação de bibliotecas externas
    -W ignore::DeprecationWarning

# Marcadores customizados (para organizar testes)
markers =
    slow: Marca testes que demoram (use -m "not slow" para pular)
    api: Testes que chamam APIs externas
    unit: Testes unitários rápidos
    integration: Testes de integração

# Cobertura (se usar pytest-cov)
# Descomente as linhas abaixo para habilitar cobertura automática
# addopts = --cov=app --cov-report=html --cov-report=term-missing

# Ignora warnings específicos
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
